window.ole=function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},l=function(t){function e(t){o(this,e);var n=document.createElement("button");n.className="ole-control "+t.className;var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{element:n}));i.className=t.className,i.title=t.title;var a=document.createElement("img");return a.src=t.image,n.appendChild(a),n.title=i.title,i.source=t.source||new ol.source.Vector({features:t.features}),i.editor=null,n.addEventListener("click",i.onClick.bind(i)),i.standalone=!0,i}return i(e,t),a(e,[{key:"getElement",value:function(){return this.element}},{key:"onClick",value:function(){this.active?this.deactivate():this.activate()}},{key:"setMap",value:function(t){this.map=t,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,this.map)}},{key:"setEditor",value:function(t){this.editor=t}},{key:"activate",value:function(){this.active=!0,this.element.className+=" active",this.editor.activeStateChange(this)}},{key:"deactivate",value:function(){this.active=!1,this.element.classList.remove("active"),this.editor.activeStateChange(this)}},{key:"getActive",value:function(){return this.active}}]),e}(ol.control.Control);e.default=l},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(2),i=o(r),a=n(0),s=o(a),l=n(9),c=o(l),A=n(12),u=o(A),f=n(15),p=o(f),h=n(19),d=o(h),v=n(21),g=o(v),y=n(23),b=o(y),m={Editor:i.default,Control:s.default,CadControl:c.default,RotateControl:u.default,DrawControl:p.default,MoveControl:d.default,ModifyControl:g.default,DeleteControl:b.default};t.exports=m},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(3),a=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e,n){o(this,t),this.map=e,this.controls=new ol.Collection,this.activeControls=new ol.Collection,this.options=n||{},this.editFeature=null,void 0===this.options.showToolbar&&(this.options.showToolbar=!0),this.options.showToolbar&&(this.toolbar=new a.default(this.map,this.controls))}return r(t,[{key:"addControl",value:function(t){t.setMap(this.map),t.setEditor(this),this.controls.push(t)}},{key:"addControls",value:function(t){t=t instanceof ol.Collection?t:new ol.Collection(t);for(var e=0;e<t.getLength();e++)this.addControl(t.item(e))}},{key:"remove",value:function(){this.controls.forEach(function(t){t.deactivate()}),this.toolbar.destroy()}},{key:"getActiveControls",value:function(){return this.activeControls}},{key:"setEditFeature",value:function(t){this.editFeature=t}},{key:"getEditFeature",value:function(){return this.editFeature}},{key:"activeStateChange",value:function(t){if(t.getActive()&&t.standalone)for(var e=0;e<this.controls.getLength();e++)this.controls.item(e)!==t&&this.controls.item(e).standalone&&this.controls.item(e).deactivate();var n=this.controls.getArray().filter(function(t){return t.getActive()});this.activeControls.clear(),this.activeControls.extend(n)}}]),t}();e.default=s},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();n(4);var s=function(t){function e(t,n){o(this,e);var i=document.createElement("div");i.setAttribute("id","ole-toolbar");var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{element:i}));return a.controls=n,a.map=t,a.map.getTargetElement().appendChild(a.element),a.load(),a.controls.on("change:length",a.load,a),a}return i(e,t),a(e,[{key:"load",value:function(){for(var t=0;t<this.controls.getLength();t++){var e=this.controls.item(t).getElement();this.element.appendChild(e)}}},{key:"destroy",value:function(){for(var t=0;t<this.controls.getLength();t++){var e=this.controls.item(t).getElement();this.element.removeChild(e)}}}]),e}(ol.control.Control);e.default=s},function(t,e,n){var o=n(5);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0};r.transform=void 0;n(7)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(6)(void 0),e.push([t.i,"#ole-toolbar {\n  position: absolute;\n  right: 20px;\n  top: 20px;\n}\n\n#ole-toolbar button.ole-control {\n  background: #fafafa;\n  border: 0;\n  color: #999;\n  cursor: pointer;\n  font-size: 14px;\n  line-height: 36px;\n  height: 45px;\n  padding: 0 8px;\n  transition: all .3s ease-out;\n}\n\n#ole-toolbar button.ole-control:first-child {\n  border-radius: 4px 0 0 4px;\n}\n\n#ole-toolbar button.ole-control:last-child {\n  border-radius: 0 4px 4px 0;\n}\n\n#ole-toolbar button.ole-control:hover {\n  color: #5c5c5c;\n}\n\n#ole-toolbar button.ole-control:focus {\n  outline: 0;\n}\n\n#ole-toolbar button.ole-control.active {\n  box-shadow: 0 4px 4px 0 rgba(0,0,0,0.3);\n  color: #5c5c5c;\n  filter: brightness(90%);\n}\n\n/* buttons */\n#ole-toolbar button.ole-control {\n  padding: 5px;\n}\n\n#ole-toolbar button.ole-control img {\n  height: 35px;\n}\n\n\n/* dialog */\n.ole-dialog {\n  background: #fafafa;\n  border-radius: 4px;\n  right: 20px;\n  padding: 10px;\n  position: absolute;\n  text-align: left;\n  top: 75px;\n  width: 330px;\n  z-index: 2;\n}\n\n/* font */\n#ole-toolbar, .ole-dialog {\n  font-family: Arial;\n  font-size:  14px;\n}\n\n/* shadow */\n#ole-toolbar button.ole-control, .ole-dialog {\n  box-shadow: 0 3px 3px 0 rgba(0,0,0,0.2);\n}\n\n#width-input {\n  width: 50px;\n}\n",""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([i]).join("\n")}return[n].join("\n")}function o(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=n(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=h[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(A(o.parts[i],e))}else{for(var a=[],i=0;i<o.parts.length;i++)a.push(A(o.parts[i],e));h[o.id]={id:o.id,refs:1,parts:a}}}}function r(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s=i[1],l=i[2],c=i[3],A={css:s,media:l,sourceMap:c};o[a]?o[a].parts.push(A):n.push(o[a]={id:a,parts:[A]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=b[b.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=v(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),i(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),i(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function A(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var c=y++;n=g||(g=s(e)),o=u.bind(null,n,c,!1),r=u.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),o=p.bind(null,n,e),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),o=f.bind(null,n),r=function(){a(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}function u(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=m(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},d=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){if(void 0===e[n]){var o=t.call(this,n);if(o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[n]=o}return e[n]}}(function(t){return document.querySelector(t)}),g=null,y=0,b=[],m=n(8);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=d()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return o(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=h[s.id];l.refs--,i.push(l)}if(t){o(r(t,e),e)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var i;return i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},c=n(0),A=o(c),u=n(10),f=o(u),p=n(11),h=o(p),d=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({title:"CAD control",className:"ole-control-cad",image:h.default},t)));return n.useMapUnits=t.useMapUnits,n.pointerInteraction=new ol.interaction.Pointer({handleMoveEvent:n.onMove.bind(n)}),n.snapLayer=new ol.layer.Vector({source:new ol.source.Vector,style:[new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"#E8841F"}),stroke:new ol.style.Stroke({width:1,color:"#618496"}),points:4,radius:5,radius2:0,angle:Math.PI/4}),stroke:new ol.style.Stroke({width:1,lineDash:[5,10],color:"#618496"})})]}),n.linesLayer=new ol.layer.Vector({source:new ol.source.Vector,style:[new ol.style.Style({stroke:new ol.style.Stroke({width:1,lineDash:[5,10],color:"#FF530D"})})]}),n.snapTolerance=t.snapTolerance||10,n.snapInteraction=new ol.interaction.Snap({pixelTolerance:n.snapTolerance,source:n.snapLayer.getSource()}),n.showSnapPoints=t.showSnapPoints,n.snapPointDist=t.snapPointDist||30,n.showSnapLines=t.showSnapLines,"undefined"===n.showSnapLines&&(n.showSnapLines=!0),n.standalone=!1,n}return a(e,t),s(e,[{key:"setMap",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),this.map.addLayer(this.snapLayer),this.map.addLayer(this.linesLayer),this.map.getInteractions().on("change:length",function(t){var e=t.target.getArray().indexOf(this.snapInteraction);this.active&&e>-1&&e!==t.target.getLength()-1&&(this.deactivate(),this.activate())},this)}},{key:"onMove",value:function(t){var e=this.getClosestFeatures(t.coordinate,5),n=this.editor.getEditFeature();n&&e.indexOf(n)>-1&&e.splice(e.indexOf(n),1),this.linesLayer.getSource().clear(),this.snapLayer.getSource().clear(),this.showSnapLines&&this.drawSnapLines(e,t.coordinate),this.showSnapPoints&&e.length&&this.drawSnapPoints(t.coordinate,e[0])}},{key:"getClosestFeatures",value:function(t,e){e=e||1;var n=[-1/0,-1/0,1/0,1/0],o={};this.source.forEachFeatureInExtent(n,function(e){var n=e.getGeometry().getClosestPoint(t),r=n[0]-t[0],i=n[1]-t[1];o[r*r+i*i]=e});var r=Object.keys(o),i=[],a=Math.min(r.length,e);r.sort(function(t,e){return t-e});for(var s=0;s<a;s++)i.push(o[r[s]]);return i}},{key:"drawSnapLines",value:function(t,e){for(var n=[],o=0;o<t.length;o++){var r=t[o].getGeometry(),i=r.getCoordinates();if(r instanceof ol.geom.Point)n.push(i);else{this.snapLayer.getSource();if(r instanceof ol.geom.LineString)for(o=0;o<i.length;o++)n.push(i[o]);else if(r instanceof ol.geom.Polygon)for(o=0;o<i[0].length;o++)n.push(i[0][o]);var a=ol.geom.Polygon.fromExtent(r.getExtent()).getCoordinates()[0];n=n.concat(a)}}var s,l=this.map.getPixelFromCoordinate(e);for(o=0;o<n.length;o++){var c=this.map.getPixelFromCoordinate(n[o]);if(l[0]>c[0]-this.snapTolerance/2&&l[0]<c[0]+this.snapTolerance/2){var A=l[1];A+=l[1]<c[1]?2*-this.snapTolerance:2*this.snapTolerance;var u=this.map.getCoordinateFromPixel([c[0],A]);s=[[n[o][0],u[1]],n[o]]}else if(l[1]>c[1]-this.snapTolerance/2&&l[1]<c[1]+this.snapTolerance/2){var f=l[0];f+=l[0]<c[0]?2*-this.snapTolerance:2*this.snapTolerance;var p=this.map.getCoordinateFromPixel([f,c[1]]);s=[[p[0],n[o][1]],n[o]]}if(s){var h=new ol.geom.LineString(s);this.snapLayer.getSource().addFeature(new ol.Feature(h))}}var d,v,g=this.snapLayer.getSource().getFeatures();if(g.length){g.forEach(function(t){var e=t.getGeometry().getCoordinates(),n=e[0][0],o=e[1][0],r=e[0][1],i=e[1][1];n===o&&(d=n),r===i&&(v=r)});var y=[];if(d&&v){y.push(d),y.push(v),this.linesLayer.getSource().addFeatures(g),this.snapLayer.getSource().clear();var b=new ol.geom.Point(y);this.snapLayer.getSource().addFeature(new ol.Feature(b))}}}},{key:"drawSnapPoints",value:function(t,e){var n=e.getGeometry().getClosestPoint(t),o=this.map.getPixelFromCoordinate(n),r=[];if(this.useMapUnits)r=[[n[0]-this.snapPointDist,n[1]],[n[0]+this.snapPointDist,n[1]],[n[0],n[1]-this.snapPointDist],[n[0],n[1]+this.snapPointDist]];else for(var i=[[o[0]-this.snapPointDist,o[1]],[o[0]+this.snapPointDist,o[1]],[o[0],o[1]-this.snapPointDist],[o[0],o[1]+this.snapPointDist]],a=0;a<i.length;a++)r.push(this.map.getCoordinateFromPixel(i[a]));var s=new ol.geom.MultiPoint(r);this.snapLayer.getSource().addFeature(new ol.Feature(s))}},{key:"openDialog",value:function(){var t=this.useMapUnits?"map units":"px",e=['<div class="ole-dialog" id="{{className}}-dialog"><div><input type="radio" name="radioBtn" {{#c1}}checked{{/c1}} id="aux-cb"><label>Show snap lines</label></div><div><input type="radio" name="radioBtn" {{#c2}}checked{{/c2}} id="dist-cb"><label>Show snap points. Distance ('+t+'): </label><input type="text" id="width-input" value="{{gridWidth}}"></div></div>'].join(""),n=document.createElement("div");n.innerHTML=f.default.render(e,{className:this.className,gridWidth:this.snapPointDist,c1:this.showSnapLines,c2:this.showSnapPoints}),this.map.getTargetElement().appendChild(n.firstChild),document.getElementById("aux-cb").addEventListener("change",function(t){this.showSnapLines=t.target.checked,this.showSnapPoints=!this.showSnapLines}.bind(this)),document.getElementById("dist-cb").addEventListener("change",function(t){this.showSnapPoints=t.target.checked,this.showSnapLines=!this.showSnapPoints}.bind(this)),document.getElementById("width-input").addEventListener("keyup",function(t){parseFloat(t.target.value)&&(this.snapPointDist=parseFloat(t.target.value))}.bind(this))}},{key:"closeDialog",value:function(){var t=document.getElementById(this.className+"-dialog");t&&this.map.getTargetElement().removeChild(t)}},{key:"activate",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this),this.map.addInteraction(this.pointerInteraction),this.map.addInteraction(this.snapInteraction),this.openDialog()}},{key:"deactivate",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this),this.map.removeInteraction(this.pointerInteraction),this.map.removeInteraction(this.snapInteraction),this.closeDialog()}}]),e}(A.default);e.default=d},function(t,e,n){var o,r,i;/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(n,a){"object"==typeof e&&e&&"string"!=typeof e.nodeName?a(e):(r=[e],o=a,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i))}(0,function(t){function e(t){return"function"==typeof t}function n(t){return d(t)?"array":typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}function i(t,e){return v.call(t,e)}function a(t){return!i(g,t)}function s(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return y[t]})}function l(e,n){function r(t){if("string"==typeof t&&(t=t.split(m,2)),!d(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(o(t[0])+"\\s*"),s=new RegExp("\\s*"+o(t[1])),l=new RegExp("\\s*"+o("}"+t[1]))}if(!e)return[];var i,s,l,f=[],p=[],h=[],v=!1,g=!1;r(n||t.tags);for(var y,C,j,S,P,M,k=new u(e);!k.eos();){if(y=k.pos,j=k.scanUntil(i))for(var x=0,I=j.length;x<I;++x)S=j.charAt(x),a(S)?h.push(p.length):g=!0,p.push(["text",S,y,y+1]),y+=1,"\n"===S&&function(){if(v&&!g)for(;h.length;)delete p[h.pop()];else h=[];v=!1,g=!1}();if(!k.scan(i))break;if(v=!0,C=k.scan(E)||"name",k.scan(b),"="===C?(j=k.scanUntil(w),k.scan(w),k.scanUntil(s)):"{"===C?(j=k.scanUntil(l),k.scan(O),k.scanUntil(s),C="&"):j=k.scanUntil(s),!k.scan(s))throw new Error("Unclosed tag at "+k.pos);if(P=[C,j,y,k.pos],p.push(P),"#"===C||"^"===C)f.push(P);else if("/"===C){if(!(M=f.pop()))throw new Error('Unopened section "'+j+'" at '+y);if(M[1]!==j)throw new Error('Unclosed section "'+M[1]+'" at '+y)}else"name"===C||"{"===C||"&"===C?g=!0:"="===C&&r(j)}if(M=f.pop())throw new Error('Unclosed section "'+M[1]+'" at '+k.pos);return A(c(p))}function c(t){for(var e,n,o=[],r=0,i=t.length;r<i;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(o.push(e),n=e));return o}function A(t){for(var e,n,o=[],r=o,i=[],a=0,s=t.length;a<s;++a)switch(e=t[a],e[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":n=i.pop(),n[5]=e[2],r=i.length>0?i[i.length-1][4]:o;break;default:r.push(e)}return o}function u(t){this.string=t,this.tail=t,this.pos=0}function f(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var h=Object.prototype.toString,d=Array.isArray||function(t){return"[object Array]"===h.call(t)},v=RegExp.prototype.test,g=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=/\s*/,m=/\s+/,w=/\s*=/,O=/\s*\}/,E=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},u.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},f.prototype.push=function(t){return new f(t,this)},f.prototype.lookup=function(t){var n,o=this.cache;if(o.hasOwnProperty(t))n=o[t];else{for(var i,a,s=this,l=!1;s;){if(t.indexOf(".")>0)for(n=s.view,i=t.split("."),a=0;null!=n&&a<i.length;)a===i.length-1&&(l=r(n,i[a])),n=n[i[a++]];else n=s.view[t],l=r(s.view,t);if(l)break;s=s.parent}o[t]=n}return e(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var n=this.cache,o=n[t];return null==o&&(o=n[t]=l(t,e)),o},p.prototype.render=function(t,e,n){var o=this.parse(t),r=e instanceof f?e:new f(e);return this.renderTokens(o,r,n,t)},p.prototype.renderTokens=function(t,e,n,o){for(var r,i,a,s="",l=0,c=t.length;l<c;++l)a=void 0,r=t[l],i=r[0],"#"===i?a=this.renderSection(r,e,n,o):"^"===i?a=this.renderInverted(r,e,n,o):">"===i?a=this.renderPartial(r,e,n,o):"&"===i?a=this.unescapedValue(r,e):"name"===i?a=this.escapedValue(r,e):"text"===i&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},p.prototype.renderSection=function(t,n,o,r){function i(t){return a.render(t,n,o)}var a=this,s="",l=n.lookup(t[1]);if(l){if(d(l))for(var c=0,A=l.length;c<A;++c)s+=this.renderTokens(t[4],n.push(l[c]),o,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(t[4],n.push(l),o,r);else if(e(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,r.slice(t[3],t[5]),i),null!=l&&(s+=l)}else s+=this.renderTokens(t[4],n,o,r);return s}},p.prototype.renderInverted=function(t,e,n,o){var r=e.lookup(t[1]);if(!r||d(r)&&0===r.length)return this.renderTokens(t[4],e,n,o)},p.prototype.renderPartial=function(t,n,o){if(o){var r=e(o)?o(t[1]):o[t[1]];return null!=r?this.renderTokens(this.parse(r),n,o,r):void 0}},p.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},p.prototype.escapedValue=function(e,n){var o=n.lookup(e[1]);if(null!=o)return t.escape(o)},p.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var C=new p;return t.clearCache=function(){return C.clearCache()},t.parse=function(t,e){return C.parse(t,e)},t.render=function(t,e,o){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return C.render(t,e,o)},t.to_html=function(n,o,r,i){var a=t.render(n,o,r);if(!e(i))return a;i(a)},t.escape=s,t.Scanner=u,t.Context=f,t.Writer=p,t})},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAMAAAC7faEHAAAAnFBMVEVMaXEAAAAAAAD///8AAAAAAAD///8AAAAAAAADAwP8/PwAAAD////////////////////////////////////y8vL///////////+GhoYAAACrq6utra3///////8xMTFaWlrl5eX///8AAAD///8LCwvAwMCgoKAYGBgGBgaFhYUmJiY+Pj5bW1t0dHTo6Ojb29u1tbUqKirQ0NBRXChKAAAAI3RSTlMA/X2cifoEsKqC/feuKQLtFgrAhVr4PttHr+TAxNCkkaHoXlHiwgoAAAE4SURBVDjLjdHXVoNgEATgEcivSyCUdLvOUtKjvv+7eRHBhD7X3zmzBRgUaxiTcZ8wIQBhnzPeMoSw1/mBLt9Ijvp6F4Ge8wEO73PNup15XQHC/VfS7abqroSXdLnwRd39AIfwo4RtzswASP6TJp3OeDqFkHnS3TuxVZ//yLird2KrbkmS1n2bMxEAyTTdkLTQ5owXRxDymJB00OoWqnFxXgftDjPVv3M46HJYuxfooHR3ldlsHxAeXM0K1uhsDXwheTjnBWt0fqDzb5LclKzRwZ/raVeu0OjMAoDsTlcrNDnj6SeE3FVY1UWx6vrqvK29Uazuoc5unJkAkFTTOrt2xrMnECbbpM4ujsVHbWmareIwVc1a2I3Dk+qxmd044TZNSI4e6nn8d0Jyw84UrC8ALA5ygxgHMv4CmZ9NJ4irko0AAAAASUVORK5CYII="},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},c=n(0),A=o(c),u=n(13),f=o(u),p=n(14),h=o(p),d=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({title:"Rotate",className:"icon-rotate",image:f.default},t)));return n.pointerInteraction=new ol.interaction.Pointer({handleDownEvent:n.onDown.bind(n),handleDragEvent:n.onDrag.bind(n),handleUpEvent:n.onUp.bind(n)}),n.rotateAttribute=t.rotateAttribute||"ole_rotation",n.rotateLayer=new ol.layer.Vector({source:new ol.source.Vector,style:function(t){var e=t.get(n.rotateAttribute);return[new ol.style.Style({geometry:new ol.geom.Point(n.center),image:new ol.style.Icon({rotation:e,src:h.default})})]}}),n}return a(e,t),s(e,[{key:"onDown",value:function(t){var e=this;return this.dragging=!1,this.feature=this.map.forEachFeatureAtPixel(t.pixel,function(t){if(e.source.getFeatures().indexOf(t)>-1)return t}),this.center&&this.feature&&(this.feature.set(this.rotateAttribute,this.feature.get(this.rotateAttribute)||0),this.initialRotation=Math.atan2(t.coordinate[1]-this.center[1],t.coordinate[0]-this.center[0])+this.feature.get(this.rotateAttribute)),!0}},{key:"onDrag",value:function(t){if(this.dragging=!0,this.feature&&this.center){var e=Math.atan2(t.coordinate[1]-this.center[1],t.coordinate[0]-this.center[0]),n=this.initialRotation-e,o=n-this.feature.get(this.rotateAttribute);this.feature.getGeometry().rotate(-o,this.center),this.rotateFeature.getGeometry().rotate(-o,this.center),this.feature.set(this.rotateAttribute,n),this.rotateFeature.set(this.rotateAttribute,n)}}},{key:"onUp",value:function(t){this.dragging||(this.feature?(this.rotateFeature=this.feature,this.center=t.coordinate,this.rotateLayer.getSource().clear(),this.rotateLayer.getSource().addFeature(this.rotateFeature)):this.rotateLayer.getSource().clear())}},{key:"activate",value:function(){this.map.addInteraction(this.pointerInteraction),this.map.addLayer(this.rotateLayer),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){this.rotateLayer.getSource().clear(),this.map.removeLayer(this.rotateLayer),this.map.removeInteraction(this.pointerInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}}]),e}(A.default);e.default=d},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAATlBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABitQkNAAAAGXRSTlMA/CSB6o8wiAPymDwLHhXJT6nXV3mxvN5q4YmaCQAAAWNJREFUOMuVlduiRiAQhSlKpMix93/R3Uz5hRz2XHTBZ2ZaTUuWxVE142SEtcJMtKmyu2h5YaMoSpLEVJ3bU+R9e+WGwiZCrL6lvbk65NC0Y4Swjs4hfy+zijYbJ2f/PY9KqdHX0GS2G1h5rlbHbiTHrG7ZQKwrumvjTWichX2gGCwlBRERqOAzkeTY4jOSvXCX4mRfRGALHdd3p8VWgFEMDoVV9hBklSANZOfH0UiOQwNKHY+U0xRIQfzjo7JMgZMD6RfQOHD4Aor9hJ7BXXjYL+UutIGVnvaeX0GjT2BndPOltHTM8mUzILVAefgzODpkxvVFcJ8L8trHI1Q5juH7UEBNId/HTC5hXp8H13X8uzT3VwG1gTz92+Vy040v29fr2uI1XLNvBtD/VLizlBItZY7UklMwqcg6FQ0mJQ8aB9uzmg/e9vRue/8w0ldrrtu02dPli9ljq2zsTYG/j/H0+/gD5hMquPjJjUMAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAAAQlBMVEX///8AAAAREREAAAACAgIAAAAAAAACAgI/Pz8AAAAJCQkBAQEFBQUCAgICAgIAAAADAwMMDAwgICACAgIDAwMAAAAEaa4/AAAAFXRSTlMC2R7kpO+8mwj6Nq9DgW3OUSgQjGAGIDAPAAACg0lEQVRYw62YyaKDIAxFQQZBxPn8/6++hbX1tbaCkp1FbzNekgjxS6ohaiuNASP7EIfRiUvihlrxLkYvVTZSqw3H4u2Qo51b+p0qvQ0h2F75508qTqlQg9y+0V3z+so1S72dmDS05qGTmpuD07Hbjodz8+Jqyg+nNPX6SjiJwrj+q21+p8qKptqf0TMAsj1Vf7QAvns8Tp8qLh5gTgp5ZwBqt7p4+Tg+V/zDHdoJ0SmGI6g+Pa0nDRCm2vOO1QHYKac4ZgAJ8N+Y1gMhs3bjVgn/4l4ZwObSgLMHWK4H+lyoaoNifLPc5LLJs27xO6zGg28zoeKLlXZYrgfmbLJs5yDX0tyZtADyEv26Ngbpd1hOfmRIFl4zv9KyA6woI/I92a5LC4RCaulb3vpf7h7U7yCOc2IaD0D8/UpNnYZVn3tep2IpUKIMVgXoQlgD0BXCigkZkYoVgKkQlj13fTKWBFkKyyRwRCqW/1bYY/0UiXw9jBew6i895nxPL5WoVzF/OSEk9AWwGuU7YcEUwNJghAbcfSwJSsSEi+Mcy3mwhXiiAeZC/NUBSyFeDUC1Xml3+d6ZlSFK3EPDo7Ymf8o6p/fj07bAR0+d22v6zeft7TYnvtx0t89xCnxVpv+K8AyOU7c6ncrsm9/r/eoWxF3OXOqjd7m1Hw0af9nKyryTQwRUdSWG9iNw6zw05WPVB8PPaC6MfI+h76Nors+P8ZjOMifIyDcijZnztgt8N6UDMHl7gK9e6Tzg8/cTRfcmx1lcbp+TtmfS6yv6PLXL7b+EEGJ5bt90137Zy3WpieieaICSj30hV/aF6x7Tl9ljrnPl4X41LNNFznzsfcEYZfW8jD/f/gMwk0Q6mORLHgAAAABJRU5ErkJggg=="},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},c=n(0),A=o(c),u=n(16),f=o(u),p=n(17),h=o(p),d=n(18),v=o(d),g=function(t){function e(t){r(this,e);var n;switch(t.type){case"Polygon":n=h.default;break;case"LineString":n=v.default;break;default:n=f.default}var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({title:"Draw "+(t.type||"Point"),className:"ole-control-draw",image:n},t)));return o.drawInteraction=new ol.interaction.Draw({type:t.type||"Point",features:t.features,source:t.source}),o}return a(e,t),s(e,[{key:"activate",value:function(){this.map.addInteraction(this.drawInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){this.map.removeInteraction(this.drawInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}}]),e}(A.default);e.default=g},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAMAAACyy+glAAAAPFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAABMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACi6kPzAAAAE3RSTlMEphtW7MZAAFP4CnJm27SALY+Y9FUAqAAAARxJREFUOMvV1MmSgzAMRVF5BI8Y7v//ay/SlQQQpHddeRtvTlGykSTTb8YSWvKtFztdRh5HDDzTxy3Ohvek5QbbAOBNqXXpCcDkK5wD4EsWERGxawLMFTZAsPLMaEDRcQRClrdYD8mqOIC3sksENg0PoMghBpJyR1nA5yMewKzgAEZOabAquClViBj19SRBPeMVgoK9ijcdN1jOuOtldAhn7EHpJqmQ7NFGICrYAtsRB/Dq7zaQ4t7Wi06SySbwY1dEgpb1Fi2An1+2JEjxalI2gP4oJc8BoF6OlawA+G5MSACp3k238+8D2+L9KsjLk7cqH/bGNE1x2Xpfy5g+Lpnb2Bjjn/EMfBG2zjm3As455+TzR1/5N/yN77zHP1HKNEf4PUN+AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAS1BMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxVY0NAAAAGHRSTlMABoQr9dEO79z8HuZIvHehr1JrkjoWXMehwfcqAAABa0lEQVQ4y4WU27aDIAwFoyKEorXe5/+/9DxoW7l4msesEXCyQaRY69SbWX7V47l7wD/+pZq65aznPbXUejBt3Xn0jprDm2pEpIclh6pxcAD4fjqPtsGQH/9Yy7y29dOzDlel4Ay4YbRRc4At3ThguuzrBfqkNcKr8HeaqXxBVwDrVOVqCFVpQiQqJ6iLZlOVLTRFcINrMhrYy7OyJlI5w3Qz1QHGSKK9Aburt7E004vK9YfETOXqCfcBHb9jfN5JfKeq/iVRRGwL/duPi6WmGdCPkNHf7l2Du+y2+Zv7NoLvkkyURtOYrP0Ev2VvRSgMok43Eal22POQzhk5gB7DM7Rx3yzxacz5wzEor0hF57/5SsCqh/AmG3cxloBidwjH7Vz1jOFDVRW8qmo8WF3PxVt7XsNPXc3pAcyfpR/OOQfeOeeiUCnsdkoEpGcUEWkC7D55m0qgNA7SMBVBWUz2XpVB6UKf3F1rrYjIH0kbHC53ruGLAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAQlBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxDQDWAAAAFXRSTlMAITmsupv1DsMF6Esset3QY4hwF1aOlBEGAAAA8UlEQVQ4y43USW7DMBBEUc6TqMnyv/9VswgsKEBIV68fCLK7msZ8rRrT3o1QL2BTYASoIgyCqw18FuAKRblhbuAUeIJX3JWgi72JirOJZBXo4VRch3QpMMCqOAdNmYkp8FLcApuSGrPDobgDduXAusEiboASr+y+xqv29+k3Zvmv9r36PfGp/+KVlzU+CGz+dIO8f6qF83B5suPQShyTu2XrcklDHbasHsfyjN172NDHIR1aVWCc5fgBcxotRrbWdtittfa3N3H4yLuMMdtw+n9g9uPeuBBCgRRCCMYz/zTuxyTm39UNC/Mlv2EvKVYB/gCouxJV7PjYLwAAAABJRU5ErkJggg=="},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},c=n(0),A=o(c),u=n(20),f=o(u),p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({title:"Move geometries",className:"icon-move",image:f.default},t)));return n.coordinate=null,n.cursor="pointer",n.previousCursor=null,n.feature=null,n.pointerInteraction=new ol.interaction.Pointer({handleDownEvent:n.handleDownEvent.bind(n),handleDragEvent:n.handleDragEvent.bind(n),handleMoveEvent:n.handleMoveEvent.bind(n),handleUpEvent:n.handleUpEvent.bind(n)}),n}return a(e,t),s(e,[{key:"handleDownEvent",value:function(t){var e=this,n=t.map.forEachFeatureAtPixel(t.pixel,function(t){if(e.source.getFeatures().indexOf(t)>-1)return t});if(n)return n.getGeometry()instanceof ol.geom.Point?this.coordinate=ol.extent.getCenter(n.getGeometry().getExtent()):this.coordinate=t.coordinate,this.feature=n,this.editor.setEditFeature(n),!0}},{key:"handleDragEvent",value:function(t){var e=t.coordinate[0]-this.coordinate[0],n=t.coordinate[1]-this.coordinate[1];this.feature.getGeometry().translate(e,n),this.coordinate[0]=t.coordinate[0],this.coordinate[1]=t.coordinate[1]}},{key:"handleMoveEvent",value:function(t){if(this.cursor){var e=t.map.getTargetElement();t.map.forEachFeatureAtPixel(t.pixel,function(t){return t})?e.style.cursor!==this.cursor&&(this.previousCursor=e.style.cursor,e.style.cursor=this.cursor):null!==this.previousCursor&&(e.style.cursor=this.previousCursor,this.previousCursor=null)}}},{key:"handleUpEvent",value:function(){return this.coordinate=null,this.feature=null,this.editor.setEditFeature(null),!1}},{key:"activate",value:function(){this.map.addInteraction(this.pointerInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){this.map.removeInteraction(this.pointerInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}}]),e}(A.default);e.default=p},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAMAAAC7faEHAAAAPFBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMwhKKAAAAE3RSTlMAbodijy2X9xAKIfxAtNvtyZ5W7zwDcgAAAQBJREFUOMutlMmOwzAMQ+lFkh032/D//3UOcZJOUzQCprz6QZBJm8BVGS4l/niwOnOuDi4aLd5jg5G04ZYbG0kb77CHkSTtccNN3DR9xgJ3pc+mlFJWainl3hqlLxAvJ4Pg/wr74hI07ANreLV3YtlOMkm2vmHh9Gz4MBo7l8lFFzJ2jjbuWddojZ0TMgAIbNI5NosVANK8RbqqCgIXAMDCBFFdt7DnBGSeGqBUAMDKDHk6yec8zfllXs56zgNqNDv2a5f9rO93ve/6/r5//YuNZItv/QOAdOSRcjosS19IWkS++v48nPd/eP+b9/+6+8DbL+6+8vafu0+9/fy+738BNtUSwsVB4JEAAAAASUVORK5CYII="},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},c=n(0),A=o(c),u=n(22),f=o(u),p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({title:"Modify geometry",className:"ole-control-modify",image:f.default},t)));return n.selectInteraction=new ol.interaction.Select({source:n.source,features:n.features}),n.modifyInteraction=new ol.interaction.Modify({features:n.selectInteraction.getFeatures()}),n}return a(e,t),s(e,[{key:"activate",value:function(){this.map.addInteraction(this.selectInteraction),this.map.addInteraction(this.modifyInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){this.map.removeInteraction(this.selectInteraction),this.map.removeInteraction(this.modifyInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}}]),e}(A.default);e.default=p},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABLFBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAABUVFRvb2/Nzc12dnYAAAA/Pz9fX19+fn7X19eFhYX+/v7Z2dkAAAD///+CgoK3t7e7u7sAAABZWVl1dXX///+MjIyAgIDh4eH5+fl2dnZiYmJ2dnZ8fHx0dHT///94eHhcXFz///+urq5cXFz///////+Pj4////+jo6OHh4d2dnaLi4vIyMhgYGDh4eG7u7vMzMz///8AAABGRkYcHBzHx8c/Pz+xsbEeHh7R0dEgICCgoKAuLi6qqqp2dnY3Nzfx8fF/f39mZmb7+/vu7u6Xl5dAr0p7AAAAT3RSTlMAddhsBynIGfs1TFah75qJvg/+6tEC4iKUQavx9LX++/qTffbRYvs+dtxkyeri/oLcKi/zCiGIdciahr8yMdjo7OgLQ8aQ5tSEVu1AtUfotq98mwAAAhtJREFUOMuF1Ol6mkAUBuABFdGo4IYoLsREY1yapFm7r0n3zglWisaoSe7/HjogEGAmdn75HN5HhjnfHISYKxmTlQr636pwApDV36wS7RJBvCTBwQaVknhbHSQQqkLuCVSuqgpRpXZi/c8gs1Q8nSsSJXD+F8RBYW2MKFGOJYO1olimYQ6EfjJSEyBJvzgr0sUapKjaFjTot0iwRdUajBqKAUf1S8zGaZgGNVri6BLq9X60vnyMFEuMbWcyv3T9NNI34BEDns9m305CNZXeNYH71xj/2Q71uMg4RBZMsw4RZX5TsMY6RJQpRGGeeYjo5zMbXnztBBqgsnI3cuDs9sObo6MTNyQp1uWaOnCCC4ZhnLun3WbA9vS7C28Xi+Zs1z7uOsTC6PVgMNAL+x7EuDk/tmVVjHz26dno/VQPwmn3+MJOoyimQ3LPWK1GVwQuddxd2hB3LftBH+rVMLzHDzMC3dWa4L+mm7NsKgQXGN88QrJcSGJf9O7pmaZpi+YY392FoOEnSHGTcWnXu+RtmAnLNeDzzq9Pvd5wrrUeItD0b2wDhLwfJ+3zcByG1uPdFkBep0OGtPZ8dx5095OdQIxKUCs704lH7yLwZicUBN6ZdOq6pdvXT0JUUUBC+Xrd2euLDdAeapyXz71XLd9Nhi+jE7cOWVgPUtQxfLg8pHJIouQN2o4x9tbqkDFxBK/rHcsyTZJv07Sstwj9AwKjjtEyRrCnAAAAAElFTkSuQmCC"},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},c=n(0),A=o(c),u=n(24),f=o(u),p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({title:"Delete geometry",className:"ole-control-delete",image:f.default},t)));return n.selectInteraction=new ol.interaction.Select({source:n.source,multi:t.multi||!1}),n.selectInteraction.on("select",function(t){t.selected.forEach(function(t){n.source.removeFeature(t),n.selectInteraction.getFeatures().clear()})}),n}return a(e,t),s(e,[{key:"activate",value:function(){this.map.addInteraction(this.selectInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){this.map.removeInteraction(this.selectInteraction),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}}]),e}(A.default);e.default=p},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAOVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABjXQ0ZAAAAEnRSTlMA6yCi+EavvAUTLXCC2MkMXY/vegyXAAAFCUlEQVR42u1c25KkIAzlLiiK+v8fuw+zItiKEJFO1QxvXaWSzgknFyCE/I1fPrQzTA6LmkYh1nVdhRgntQySGae/JVM/WzXR9XTQSdm5by+TVJSKNTkEpUo2RM7Ibs0eSpoWeJqZ07VoUD6bl4Vi/A66czj5i4Jpxlfw4Ey/ZeUXII2d4stirbXLwlU30isre4MOphP0RGclM8ZprwmtnTFM2u7s6ak2ZZjl0166gSXNcOg+7XCpaWN6OOIyWZkxgZF2OiI+1MNvPCjKMpf7rmP2oLKxDpJuiGUa59IvzGMs2eAqqCpidMFBy0nySDD1WGEzrUI+B8qj80Nbr7e+Y4YZHpArCwl0mh9rPlyWCkwVJlyBtgLjGBuuSOAHe1F9VUdcI0DflIFUi6vFgS5wF0I+kkpU9bHyiVzBy1PlWCk0WQnWVf0IznCgvgJrH16I3gI6LLF746USA3llDPsM2WCwHfyXpCJkKOYvraAWCVtTSpf9ETGQF8eOY9Y08/sIHnHM8LY9bSRVIBe9XY7OR3389Rxde/5SLvcfTG8n6BHf3yDTl9PJI7m82Sdh1GMDajiliTELwqVVVWrJgNFsq3B0rcRyGz7U3IvesLzY3wLkn7Aty532ThdTQ24ILMdPmw79xEyajlmkQkIfOEyk8ZhSoQTLsncmGSANTr/kbfrsqc1B8ZQdKICz1PwuiVbXU2/KEuz2/a5oSZgf569S2tx8kLlWVkIXm+hdgb50l0DoGErwK4JPZkjeg+XL5aVKetmNBKi7WKVJl+lXRTaOZi/aJd8Yz7nJqzHNWXvemaevXVc3zn8+NyGPYfY0OXIVPC5OHbbM9IYBKPc4ljxsTy0wY7kUK6BItZvZxjyy+R1XD5gywN3mgSAYFkBTBPcFiqqkrJOlhsLFsVNXiCK9DVwLpyyWynMB/cykO1JMkucAlSIYrLogw94oPju9v1FGua72rCsgeptLD3kTg6TyUZc9xqWiPFw5gwmCYED03v9snNEVfONaJTBd7cbluXNbBGV52MX0YKk2U/J0wGB1h1OwoAgGnM4ufj/QF1xXn9oZisg0JdcTqbwtDXHpAbCTdoDsAYJBEW6JPWIHKNNE6nmkq70+quKsVkGKpYEoSj2SytPnFMf3sBquOTnL1YFqK1s+Mcb0CqwA6g+5OmCNeoljiGdifcgFlWoTS8QRM7jYFuPYgatjNo6bH9cAg80r2ML5TWK9BCJSk0dKEEjpFKnzQeqqkQY2yMLAGXfQjDTFQJqQIU1fkSb7SEsjWAtJSMtuSIuUWEu6SAvgSLcL/LYsss0VpFtRSDfu3t/m5MkHL7Y5G2wKJ832YlMY6xY60gMHxOA8noH0MEv20R9AxmweHP1BelAK6bEyrIfwsB5Z/O4BT3sbuH7lOKy7zT6QHR72LhPZUevWB9P3kKTPSiLh9/Qghbb7xNmpr1x6uJ2r4RURm39FBOuFGqzXj7Be1grvNSK62tb2ImBJ2f3ta5P7RWZaFBXgvGQaXcmtzfcMfiUX6wXmFte9Kejvvn05ngK/ibOVwP8kGl3jhdptKtZKbSrIsamHgjf1UBWbehBCeoWxBcorDWN09VWNpr0OIYSgbEZErlo3Jf93f9a6ydb2+ygbXRGCtC0YwdpE7SeCw9dy7mfFQxr0tahLaXNlZV9sZ+jtH1vzR08Zs+XXrTL5V1pl/sfTNxb9UZ2g46SW+auNRf8GlvEPqfEwqWshsskAAAAASUVORK5CYII="}]);
//# sourceMappingURL=ole.js.map